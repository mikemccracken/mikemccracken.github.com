<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="This is a weblog.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>michael-mccracken.net</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://michael-mccracken.net/">
<link rel="next" href="index-26.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="2016/10/more-photos/" type="text/html">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://michael-mccracken.net/">
                <img src="http://michael-mccracken.net/mike_bw_sm.png" alt="michael-mccracken.net" id="logo"><span id="blog-title">michael-mccracken.net</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="archive/archive.html">Archive</a>
                </li>
<li>
<a href="categories/">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS feed</a>

                
            </li>
</ul>
<!-- Custom search --><form method="get" id="search" action="http://duckduckgo.com/" class="navbar-form pull-left">
<input type="hidden" name="sites" value="http://michael-mccracken.net/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            

    
<div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2016/10/more-photos/" class="u-url">More about photos</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2016/10/more-photos/" rel="bookmark"><time class="published dt-published" datetime="2016-10-07T10:21:50-07:00" title="2016-10-07 10:21">2016-10-07 10:21</time></a></p>
                <p class="commentline">
        
    <a href="2016/10/more-photos/#disqus_thread" data-disqus-identifier="cache/posts/2016/10/more-photos.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>The last time I wrote something here, it was about how to keep family photos. I was using Picturelife to upload photos from our phones. I used a feature of theirs to host my own photos on Amazon S3, so when their service imploded after an acquisition a while back, I managed to avoid disaster.</p>
<p>There's a great <a href="https://gimletmedia.com/episode/71-the-picture-taker/">episode about the end of Picturelife</a> on the Reply All podcast - they talk to the eventual owner about what actually happened.</p>
<p>Anyway, I gave up on public services and bought a WD MyCloud Mirror NAS box - a little Linux-based appliance with two redundant disks that is available over the network, so phones can back up to it, and it can back itself up to S3 for extra security. I spent a couple days loading all our phones and flash cards into it, and it's up and running. It's a little slow (there are fancier boxes available for more cash), but it seems to be good enough for now.</p>
<p>However backup is all it does, so now I'm kind of in the opposite place I was before - I feel secure that I'm not going to lose these photos, but they're all just sitting there, unorganized and not easily viewable.</p>
<p>I'd like to find a nice program to organize and de-dup them, without buying into a big online system or some soon-to-be-dead proprietary database format. It seems like maybe I'm in the minority, though. Maybe next fall's blog post will be about what I've found. If you have any recommendations, let me know.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2015/02/photos-2015/" class="u-url">What to do with Photos 2015</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2015/02/photos-2015/" rel="bookmark"><time class="published dt-published" datetime="2014-08-05T09:26:17-07:00" title="2014-08-05 09:26">2014-08-05 09:26</time></a></p>
                <p class="commentline">
        
    <a href="2015/02/photos-2015/#disqus_thread" data-disqus-identifier="cache/posts/2015/02/photos.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>It's 2015, and saving and making use of digital photos and videos is too hard, and doesn't seem to be getting better.
I still have printed pictures of my parents when they were younger than me, because they were in an album somewhere.
But I need to get serious with some kind of digital media strategy, or my kids might not be able to find or access any pictures of themselves as babies.</p>
<p>We have a couple Macs, some iPhones and some cameras with SD cards. We
want to back up photos to one place, permanently prune out bad ones,
and be able to access all of them in an organized way that lets us
e.g. upload them to places to get yearly books printed.
This basically means we need the stuff in the cloud, with an easy way
to download subsets onto local disks.</p>
<p>So, we need some kind of server-hosted solution, and there are so many
it's hard to keep track.  I looked into most of them, and read a few
summary posts, and so many of them don't quite make it easy to import
from everywhere, or they leave me uneasy that I'll have to switch
again sometime soon. Big companies abandon their products, and small
companies get acquired then abandon their products often enough that
almost any for-pay service feels temporary. Free services, or platform-tied things like iCloud, Google plus or Amazon Prime Photos also feel temporary, because they're tied to the success of that platform (and what if I decide to change phones?)</p>
<p>Last summer, I spent a lot of time working with git-annex because I
liked the flexibility of not having to keep all the photos in one
place but still have them in one logical 'annex' with their location
being tracked - and I wanted to control the backup of the data.  I
even spent a long time on an import script that avoided dupes and
tagged photos with git-annex metadata from their GPS info.  The neat
database-like "view" features built around metadata turned out to be
unusably slow with &gt;1K files, though, and so I was looking at more
work trying to help fix that, along with still needing to figure out
what to do with the iPhones, and it just seemed like too much effort.</p>
<p>So, I looked back at reviews of hosted sites (I thought it was from sweethome.com, but I can't find it there anymore),
and saw that <a href="http://www.picturelife.com">Picturelife</a> 
allows you to use your own bucket on Amazon S3 for photo storage -
then you get the Picturelife features for free and only pay Amazon for
storage. So if Picturelife dies for some reason, your bucket still has
your photos. I thought that sounded pretty good, so I've been trying
it out for a while. I like their import features - there's a mac app
that I used for the initial bulk upload and ongoing for emptying the
SD cards, and the iPhone apps work as well as apps can be expected to
(background uploading seems to not work or not be implemented).</p>
<p>I have some UI nits to pick, but overall it is good - lets me look
through pictures (I haven't bothered with the editing UI yet), and
hide or delete bad ones, tag and write captions. All good so
far. There's a map view that's interesting but has equally interesting
bugs - I reported one where photos from Portland, OR were sometimes
interpreted as being in Portland, Maine for example. And it'd be nice
to be able to say "show me this picture on the map", but that
direction isn't implemented.</p>
<p>Since I wrote the last paragraph, none of my bugs have been fixed, and Picturelife's incredible journey
<a href="http://blog.picturelife.com/post/109541575280/picturelife-joins-streamnation">has been acquired</a>. I'm
currently just waiting to see how that changes things - they say it'll continue as a product.
At least my photos are in my own bucket.</p>
<p>If only there was an easy obvious choice. What do you do?</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2014/06/links-for-June-27-2014/" class="u-url">Links for June 27, 2014</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2014/06/links-for-June-27-2014/" rel="bookmark"><time class="published dt-published" datetime="2014-06-27T12:24:00-07:00" title="2014-06-27 12:24">2014-06-27 12:24</time></a></p>
                <p class="commentline">
        
    <a href="2014/06/links-for-June-27-2014/#disqus_thread" data-disqus-identifier="cache/posts/2014/06/links-Jun-27.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <ul>
<li>
<p><a href="http://opentuner.org/">OpenTuner by jansel</a>
    "OpenTuner is a new framework for building domain-specific multi-objective program autotuners. OpenTuner supports fully customizable configuration representations, an extensible technique representation to allow for domain-specific techniques, and an easy to use interface for communicating with the tuned program. A key capability inside OpenTuner is the use of ensembles of disparate search techniques simultaneously, techniques which perform well will receive larger testing budgets and techniques which perform poorly will be disabled." -- This looks really useful. I started on something like this long ago at LLNL, but since I was so young I focused mostly on fancy plots and designing a language for describing experiments.</p>
</li>
<li>
<p><a href="http://vimeo.com/95534178">Paper to Plants on Vimeo</a>
    A really cute video about a game that seems pretty charming. I'm still not sold on little kids using iPads so much, I'm told it's bad for their eye development.</p>
</li>
<li>
<p><a href="http://www.computingcomfort.org/create2.asp">Ergonomic Workspace Planner Tool | ComputingComfort.org</a>
    Use this to figure out the optimal height of your standing desk</p>
</li>
<li>
<p><a href="http://mbutterick.github.io/pollen/doc/">pollen</a>
    Write web based books in racket</p>
</li>
<li>
<p><a href="http://dealloc.me/2014/05/24/opendata-house-hunting/">Finding the perfect house using open data — dealloc.me</a>
    A guy builds a map of available houses in Portland that match his desires. Seems like a good real estate agent should do this for you - but how do you know you've got a good one? I guess you have to write some code.</p>
</li>
<li>
<p><a href="http://billmill.org/pymag-trees/">Drawing Presentable Trees</a>
    "When I needed to draw some trees for a project I was doing, I assumed that there would be a classic, easy algorithm for drawing neat trees. What I found instead was much more interesting: not only is tree layout an NP-complete problem1, but there is a long and interesting history behind tree-drawing algorithms. I will use the history of tree drawing algorithms to introduce central concepts one at a time, using each of them to build up to a complete O(n) algorithm for drawing attractive diagrams of trees." -- I've always wondered what a good way to do this would be. Knew it had to be a solved problem.</p>
</li>
<li>
<p><a href="http://againstallgrain.com/2013/10/12/grain-free-oatmeal-raisin-cookies/">Grain-Free Oatmeal Raisin Cookies | Against All Grain - Delectable paleo recipes to eat &amp; feel great</a>
    If you want oatmeal-raisin but you're trying to avoid oats and sugar, these are really quite good. The coconut makes a great texture.</p>
</li>
<li>
<p><a href="http://www.slate.com/articles/life/family/2014/06/lev_grossman_on_his_daughter_lily_how_being_a_father_ruined_my_life_and.html">Lev Grossman on his daughter, Lily: How being a father ruined my life and made me a better writer.</a>
    A really heartfelt story about becoming a dad and getting your act together. Now that I have kids I'm a total sucker for this kind of article.</p>
</li>
<li>
<p><a href="http://hal.archives-ouvertes.fr/inria-00555588/">HAL :: [inria-00555588, version 1] A comprehensive study of Convergent and Commutative Replicated Data Types</a>
    Formal exploration of sync-able data types. Abstract: "Eventual consistency aims to ensure that replicas of some mutable shared object converge without foreground synchronisation. Previous approaches to eventual consistency are ad-hoc and error-prone. We study a principled approach: to base the design of shared data types on some simple formal conditions that are sufficient to guarantee eventual consistency. We call these types Convergent or Commutative Replicated Data Types (CRDTs). This paper formalises asynchronous object replication, either state based or operation based, and provides a sufficient condition appropriate for each case. It describes several useful CRDTs, including container data types supporting both \add and \remove operations with clean semantics, and more complex types such as graphs, montonic DAGs, and sequences. It discusses some properties needed to implement non-trivial CRDTs."</p>
</li>
<li>
<p><a href="http://dev.stephendiehl.com/hask/#intro">What I Wish I Knew When Learning Haskell 2.1 ( Stephen Diehl )</a>
    Nice quick article with practical tips for beginners.</p>
</li>
<li>
<p><a href="http://www.psmag.com/navigation/business-economics/talent-migration-work-creative-much-new-york-poor-pittsburgh-rich-82894/">Not So Much 'New York Poor' as 'Pittsburgh Rich' - Pacific Standard: The Science of Society</a>
    You can get a lot for your money in Pittsburgh, and lots of other places throughout the US. I'm from Pgh, and have fond memories. I'd consider moving back there if they could fix the weather.</p>
</li>
<li>
<p><a href="http://aphyr.com/posts/317-call-me-maybe-elasticsearch">Call me maybe: Elasticsearch</a>
    Part of a series of irreverent but thorough explorations of various popular distributed systems.</p>
</li>
<li>
<p><a href="http://m.theatlantic.com/technology/archive/2014/05/what-do-we-save-when-we-save-the-internet/370885/">What Do We Save When We Save the Internet</a>
    So as you proceed with your protests, I wonder if you might also ask, quietly, to yourself even, what new growth might erupt if we let the Internet as we know it burn. Shouldn't we at least ponder the question? Perhaps we’d be better off tolerating the venial regret of having lost something than suffering the mortal regret of enduring it."</p>
</li>
<li>
<p><a href="http://www.musanim.com/">Music Animation Machine — "Music Worth Watching"</a>
    Old stuff, but great. Couldn't believe I hadn't bookmarked it long ago.</p>
</li>
<li>
<p><a href="http://serialized.net/2013/03/moving-from-octopress-to-nikola/">Moving from Octopress to Nikola | serialized.net</a>
    This post and a few tweaks got me into nikola without much hassle.</p>
</li>
</ul>
</div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2013/09/flashing-ubuntu-touch-from-osx/" class="u-url">Flashing a Nexus device with Ubuntu Touch from Mac OS X</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2013/09/flashing-ubuntu-touch-from-osx/" rel="bookmark"><time class="published dt-published" datetime="2013-09-12T10:40:00-07:00" title="2013-09-12 10:40">2013-09-12 10:40</time></a></p>
                <p class="commentline">
        
    <a href="2013/09/flashing-ubuntu-touch-from-osx/#disqus_thread" data-disqus-identifier="cache/posts/2013/09/flashing-ubuntu-touch-from-osx.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>I've been working with Ubuntu Touch recently, using VirtualBox to run
Ubuntu Saucy as a guest on my Mac, and while it does work to connect
to the device once it's installed, the process of reflashing is
difficult. The manual steps on the Ubuntu Wiki
<a href="https://wiki.ubuntu.com/Touch/Install">Touch/Install</a> page work for
the old way, via <code>phablet-flash cdimage-touch</code>, with the caveat that
you may have to manually reboot the device and/or re-connect the USB
in between steps.</p>
<p>However, as of <a href="https://lists.launchpad.net/ubuntu-phone/msg04004.html">this email last week</a>, the official way
to flash phones is using the system images via <code>phablet-flash
ubuntu-system</code>, which has a different set of files.</p>
<p>Instead of just muddling through and updating the manual instructions,
I decided to see if phablet-flash would run natively on the Mac. After
a bit of python dependency resolution, it does. Here's what I did:</p>
<ol>
<li>Download the <a href="http://developer.android.com/sdk/index.html">Android SDK tools</a>. You only really need the "SDK Tools", not the whole ADT Bundle, so I clicked on "Use an existing IDE" at the bottom of that page, to get the smaller installer.</li>
<li>Unpack the archive and run ./android. Install the platform-tools (and nothing else).</li>
<li>
<p>Add the platform-tools/ directory to your $PATH for convenience.</p>
</li>
<li>
<p>(Optional) create a virtualenv for the python dependencies, and activate it.</p>
</li>
<li>
<code>pip install</code> each of <code>configobj</code> <code>pyxdg</code>, and <code>pyliblzma</code>
</li>
<li>get <a href="http://bazaar.canonical.com/">bazaar</a> if you don't already have it.</li>
<li>branch phablet-tools: <code>bzr branch lp:phablet-tools</code>
</li>
<li><code>cd phablet-tools &amp;&amp; python setup.py build</code></li>
<li>At this point, <code>phablet-flash ubuntu-system</code> should work smoothly, with all transfers and reboots and timeouts going as expected.</li>
</ol>
<p>The only minor hiccup is that it apparently doesn't get ~/Downloads/
from pyxdg, but it just means that you'll get the images saved to
~/phablet-flash instead of ~/Downloads/phablet-flash. No big deal.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2013/04/links/" class="u-url">Links: Simulation, Programming, Crab Cakes and Hockey Player Usage Charts</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2013/04/links/" rel="bookmark"><time class="published dt-published" datetime="2013-04-10T08:41:00-07:00" title="2013-04-10 08:41">2013-04-10 08:41</time></a></p>
                <p class="commentline">
        
    <a href="2013/04/links/#disqus_thread" data-disqus-identifier="cache/posts/2013/04/links.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <ul>
<li>
<a href="http://lambda-the-ultimate.org/node/4710">DYNAMO</a>
    Someone has rewritten one of the earliest simulation systems in JavaScript (the fate of all interesting software). Also includes a link to an article about the history of simulation software that sounds very interesting.</li>
<li>
<a href="http://feeds.seriouseats.com/~r/seriouseatsfeaturesvideos/~3/yfScRT6TNzw/the-food-lab-crab-cakes.html">The Food Lab: The Crabbiest Crab Cakes</a>
    I love crab cakes, but I'm not sure I really want to try to make them at home. If I do, I'll use these tips. The Food Lab is fun stuff.</li>
<li>
<a href="http://mjtsai.com/blog/2013/03/30/debug-it/">Debug It!</a>
    A review of a book on debugging, which is a topic that I think should be taught right alongside programming. See also <a href="http://whyprogramsfail.com">"Why Programs Fail"</a>
</li>
<li>
<a href="http://www.givedirectly.org/">GiveDirectly: introducing a radical new way to give! | GiveDirectly</a>
    Send cash straight to poor people. If their assertions are true, it's a really interesting idea, and I can't believe it hasn't been done before. It also seems transparently better than microloans.</li>
<li>
<a href="https://github.com/ContinuumIO/Bokeh">ContinuumIO/Bokeh · GitHub</a>
    Something to look out for -- a Python ggplot that works with HTML5 is a great idea. "Bokeh (pronounced boh-Kay) is an implementation of Grammar of Graphics for Python, that also supports the customized rendering flexibility of Protovis and d3. Although it is a Python library, its primary output backend is HTML5 Canvas.  There are many excellent plotting packages for Python, but they generally do not optimize for the particular needs of statistical plotting (easy faceting, bulk application of aesthetic and visual parameters across categorical variables, pleasing default color palettes for categorical data, etc.). The goal of Bokeh is to provide a compelling Python equivalent of ggplot in R."</li>
<li>
<a href="http://kk.org/cooltools/archives/10441">FitDesk X1</a>
    Level up from a standing desk? I'd love to try this for a day.</li>
<li>
<a href="http://lambda-the-ultimate.org/node/4699">Concurrent Revisions</a>
    DVCS-like concurrent programming. Interesting sounding research - I haven't read it yet...</li>
<li>
<a href="http://www.hockeyabstract.com/playerusagecharts">Many thanks to @robvollmannhl and the good folks at Hockey Abstract for these great interactive Player Usage Charts: hockeyabstract.com/playerusagecha…</a>
    Player Usage Charts are fascinating, but I can never figure out why people always change the axes so that the dots fill the space. It makes it impossible to compare two charts, and it's not obvious, so you end up comparing charts without realizing that it's meaningless.</li>
</ul>
</div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2013/02/mock-nested-properties-with-python-mock/" class="u-url">Mock nested properties with python-mock</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2013/02/mock-nested-properties-with-python-mock/" rel="bookmark"><time class="published dt-published" datetime="2013-02-21T15:05:00-08:00" title="2013-02-21 15:05">2013-02-21 15:05</time></a></p>
                <p class="commentline">
        
    <a href="2013/02/mock-nested-properties-with-python-mock/#disqus_thread" data-disqus-identifier="cache/posts/2013/02/mock-nested-properties-with-python-mock.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Python's <a href="http://www.voidspace.org.uk/python/mock/">mock</a> library (part of stdlib in 3.3+) is a great tool for writing concise tests.
Its documentation is very good, and rewards multiple reads - but I found one thing that wasn't totally clear, even after looking through a few times.
I wanted to use PropertyMock to mock nested Properties. Specifically, I had patched the python Gnome-introspection wrapper for libsoup at the top level <code>Soup</code> objcet, and I also wanted to replace one of its nested constant properties, Soup.MemoryUse.COPY with a sentinel that I controlled, for later comparison. </p>
<p>The idiom for PropertyMock is to assign a PropertyMock to the type object of the Mock object whose property you want control of.
What I found is that because Mocks auto-create properties, it's possible to do nested mocking in one line, like this:</p>
<pre class="code literal-block"><span class="kn">import</span> <span class="nn">mock</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">mock</span><span class="o">.</span><span class="n">Mock</span><span class="p">()</span>
<span class="nb">type</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">c</span><span class="p">)</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="n">mock</span><span class="o">.</span><span class="n">PropertyMock</span><span class="p">(</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">mock</span><span class="o">.</span><span class="n">sentinel</span><span class="o">.</span><span class="n">my_value</span><span class="p">)</span>
<span class="k">assert</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">d</span> <span class="o">==</span> <span class="n">mock</span><span class="o">.</span><span class="n">sentinel</span><span class="o">.</span><span class="n">my_value</span><span class="p">)</span>
</pre>


<p>So my soup example looks roughly like this (mixing testing and tested code, and repeating literals for brevity):</p>
<pre class="code literal-block"><span class="n">json_body</span> <span class="o">=</span> <span class="s">"{}"</span>
<span class="k">with</span> <span class="n">patch</span><span class="p">(</span><span class="n">gi</span><span class="o">.</span><span class="n">repository</span><span class="o">.</span><span class="n">Soup</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_soup</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">gi.repository</span> <span class="kn">import</span> <span class="n">Soup</span>
    <span class="nb">type</span><span class="p">(</span><span class="n">mock_soup</span><span class="o">.</span><span class="n">MemoryUse</span><span class="p">)</span><span class="o">.</span><span class="n">COPY</span> <span class="o">=</span> <span class="n">mock</span><span class="o">.</span><span class="n">PropertyMock</span><span class="p">(</span><span class="n">return_value</span><span class="o">=</span><span class="n">mock</span><span class="o">.</span><span class="n">sentinel</span><span class="o">.</span><span class="n">COPY</span><span class="p">)</span>

    <span class="c"># tested code:</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">Soup</span><span class="o">.</span><span class="n">Message</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"http://fake.com/api"</span><span class="p">)</span>
    <span class="n">message</span><span class="o">.</span><span class="n">set_request</span><span class="p">(</span><span class="s">'application/json'</span><span class="p">,</span> <span class="n">Soup</span><span class="o">.</span><span class="n">MemoryUse</span><span class="o">.</span><span class="n">COPY</span><span class="p">,</span> <span class="n">json_body</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">json_body</span><span class="p">))</span>

    <span class="c"># checking:</span>
    <span class="k">assert</span><span class="p">(</span><span class="n">mock_soup</span><span class="o">.</span><span class="n">mock_calls</span> <span class="o">==</span> <span class="p">[</span><span class="n">mock</span><span class="o">.</span><span class="n">call</span><span class="o">.</span><span class="n">Message</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"http://fake.com/api"</span><span class="p">),</span> 
                                    <span class="n">mock</span><span class="o">.</span><span class="n">call</span><span class="o">.</span><span class="n">Message</span><span class="o">.</span><span class="n">new</span><span class="p">()</span><span class="o">.</span><span class="n">set_request</span><span class="p">(</span><span class="s">'application/json'</span><span class="p">,</span> 
                                                                        <span class="n">sentinel</span><span class="o">.</span><span class="n">COPY</span> <span class="c"># &lt;--- this was the point</span>
                                                                        <span class="s">"{}"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
</pre>


<p>It's often possible to think of a shorter, clearer use of the mock library after revisiting a problem, but so far this still seems good. Let me know in the comments if you have a suggestion for improvements.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2013/02/dont-snooze/" class="u-url">Don't Snooze</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2013/02/dont-snooze/" rel="bookmark"><time class="published dt-published" datetime="2013-02-08T08:18:00-08:00" title="2013-02-08 08:18">2013-02-08 08:18</time></a></p>
                <p class="commentline">
        
    <a href="2013/02/dont-snooze/#disqus_thread" data-disqus-identifier="cache/posts/2013/02/dont-snooze.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>Mailbox is a new iPhone email app that grabbed a lot of attention recently, partly because of their waiting list for using it.
It's a gmail-only system that stores copies of your email on Mailbox's servers, so they can do new features beyond the standard mail client.
Even though I got through the waiting list a week ago, I haven't tried it myself, because I wasn't </p>
<p>I have a few religious beliefs about email.
One is that processing incoming email is different from </p>
<p>that you should only process a message once - when you first see it, you should decide what to do next with it, even if that's "read it again later", </p>
<p>I call it a religion because I believe it, but I don't always practice
it. I have an inbox full of things I've looked at once and am
procrastinating on, partly because it's hard to move things to the
todo list that I use from Gmail. It annoys me every time I look at my
email, and I've forgotten important things that I left sitting
there. This is exactly why I think it's important that our tools
encourage good habits, instead of encoding bad ones.</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2012/12/mac-irc-clients/" class="u-url">Mac IRC clients</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2012/12/mac-irc-clients/" rel="bookmark"><time class="published dt-published" datetime="2012-12-13T09:03:00-08:00" title="2012-12-13 09:03">2012-12-13 09:03</time></a></p>
                <p class="commentline">
        
    <a href="2012/12/mac-irc-clients/#disqus_thread" data-disqus-identifier="cache/posts/2012/12/mac-irc-clients.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div>
<p>At Canonical, we are spread all over and keep in touch via IRC. I've
tried out a bunch of IRC clients, but nothing is quite right. I'll
explain. Here's a list of some things I want from a client - it's
probably not complete, but it'll do for now:</p>
<ol>
<li>
<p>Don't crash. A bouncer makes crashes recoverable, but I shouldn't
 have to use one just to keep the backlog around.</p>
</li>
<li>
<p>I need to search the backlog. Incremental search is best.</p>
</li>
<li>
<p>Show multiple channels at once, in one window.</p>
</li>
<li>
<p>Highlight mentions of my nick so I can glance at a window and see if anyone's asking me something. Use Growl or notification center, too.</p>
</li>
<li>
<p>Make it obvious when I've disconnected, and reconnect robustly.</p>
</li>
<li>
<p>Let me hide/fade out join/leave notifications and other admin messages.</p>
</li>
<li>
<p>Keep my place so I know what messages are new.</p>
</li>
<li>
<p>Make it obvious which channel I'm looking at, and even more
 obvious which channel I'm about to type in. (Nothing is great at this)</p>
</li>
<li>
<p>Spell-check is nice, but autocorrect is awful for IRC and
 technical discussions. Needs a global switch.</p>
</li>
<li>
<p>Don't show unread counts. Some channels are chatty and I'm just in them listening for my name.</p>
</li>
</ol>
<p>Here are the clients I've tried and why they aren't quite perfect:</p>
<h3><a href="http://colloquy.info">Colloquy</a></h3>
<p>Colloquy is a nice full-featured open source client. I've used it the
most. However - it doesn't show multiple channels in one window at the
same time, and doesn't keep your place. I've had some problems with
reconnection, where I thought IRC was quiet when I was actually just
disconnected and didn't know it.</p>
<p>I have to turn autocorrect off for each room I'm in, which I only
remember after the first time it really annoys me by mangling some
jargon.</p>
<p>There's also some general buggy behavior, and I have a short list of
bugs I'd like to report someday, but I don't have time to fix them.</p>
<p>Years ago I hacked my own version of a place marker that I liked, but
I can't remember why it didn't make it in, and of course the code is
lost now.</p>
<p>The backlog search looks like it should be powerful, but in my
experience it just doesn't work - it never displays any results. I'm
not sure what the deal is there.</p>
<p>(As a side note, Colloquy's iPhone app is the only iPhone IRC client
I've used. It seems to work fine, and I don't use it enough to have
specific gripes. Just having to have IRC open on my phone is
guaranteed to annoy me more than the software itself could.)</p>
<h3><a href="http://www.emacswiki.org/ERC">Emacs ERC</a></h3>
<p>My current setup is just to run ERC in an emacs window alongside my
code editing.  This has super flexible window splitting and size
management and unbeatable search for your backlog, since it's just
another emacs buffer. There's another nice benefit - if you're writing
about code, emacs' tab-completion for strings across all buffers means
that you can easily autocomplete SomeReallyLongFunctionName in
chats. This saves a lot of typing and cut n' pasting. When you do need
to cut n' paste, it's nicer to do it between emacs buffers than
between apps.</p>
<p>The defaults are not ideal, as usual with emacs you need to dig around
to find a good setup.</p>
<p>There's a module to colorize nicknames according to a hash of the
name, so it's easier to tell people apart. Other clients have similar
features but I think I like emacs' the best for some reason - maybe
the palette is nicer.</p>
<p>There's a module to mark your place that only works if you left the
cursor in the backlog, which is a little weird. It will highlight my
nick when mentioned, but not the whole line.</p>
<p>Since it's open source, I have the same problem as Colloquy, it's
hackable, but I don't really have time for that. And emacs is fun to
hack on, so it's a potentially dangerous time sink.</p>
<h3><a href="http://conceitedsoftware.com/products/linkinus">Linkinus</a></h3>
<p>This is a nice client with some minor flaws and a little flakiness. I
liked it but moved on because of minor annoyances.</p>
<p>It has a kind-of nifty "conversation tracking" feature that tries to
highlight messages in a back-and-forth when you hover over it with the
mouse (but only in the currently selected channel). It's not really
that useful, but I think it could be if pushed further. I'd like to
see more clients try this kind of thing, since separating multiple
concurrent conversations is hard on IRC, and it can be hard to avoid
them.</p>
<p>Lets you display multiple channels in one window, but that needs some
improvement. There's just one text-entry field so it's easy to type
something to the wrong channel. </p>
<p>The split display has some issues. The split channel views don't show
you the channel name anywhere, and in some cases don't even show you
the channel topic, which may or may not be helpful anyway. So it can
take some effort to figure out what channel you're looking at,
especially if there are many of the same people talking on two
channels.</p>
<p>It can save a set of channels as a group, but it doesn't save the
relative sizes of the splits in the group, so if you want to flip
between groups, you'd better be OK with even splits.</p>
<p>Finally, it only supports vertical splits, so with more than two
channels, you just get a couple unreadably long lines per channel.</p>
<p>It has a very barebones backlog search, but it does work.</p>
<p>They've also clearly tried to re-design the account setup / prefs
experience, but I'm not a big fan of an inspector palette - I wanted
to compare settings between two servers and it will only show me one
at a time. This was also the biggest point of flakiness, where some
edits wouldn't commit and I couldn't tell if the settings were being
changed.</p>
<h3><a href="http://www.codeux.com/textual/">Textual</a></h3>
<p>Textual is an open-source app
<a href="http://github.com/Codeux/Textual">(github.com/Codeux/Textual)</a> that
is for sale on the Mac app store. This is an interesting approach that
I think has some merit - people may still contribute code or bug
fixes, but it's also nice to know that if the app ever gets abandoned,
it could be resurrected. That said, I tried building from source to
enable a quick hack once but the master branch didn't build for me, so
they're not trying to make it easy.</p>
<p>It lets me hide some admin messages, has automatic &amp;
manual scrollback markers to keep track of what I've missed.</p>
<p>This has a setting to "Track conversations using nickname
highlighting" but I couldn't really tell what it was doing.</p>
<p>This also has a pretty barebones search, but again, it works.</p>
<p>I tried this for a few days and liked it, but ultimately switched
away, I think mostly because you can't display multiple channels -
there's just one window and it doesn't split up.</p>
<h3><a href="http://mediaware.sk/ware/?page_id=35">Mango</a></h3>
<p>I haven't tried Mango. The screenshots in the App Store and feature
listings don't lead me to believe that it's anything significantly
different from the others. I'd be glad to hear from fans, though.</p>
<p>So, what do you use? Have I missed anything great?</p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2012/10/selected-links/" class="u-url">More out of date links</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2012/10/selected-links/" rel="bookmark"><time class="published dt-published" datetime="2012-10-25T12:35:00-07:00" title="2012-10-25 12:35">2012-10-25 12:35</time></a></p>
                <p class="commentline">
        
    <a href="2012/10/selected-links/#disqus_thread" data-disqus-identifier="cache/posts/2012/10/selected-links.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <ul>
<li>
<a href="http://hammerprinciple.com/therighttool">Programming Languages · Hammer Principle</a>
    Very interesting survey site to answer the question "what language is right for what task?"</li>
<li>
<a href="http://james-iry.blogspot.co.uk/2010/05/types-la-chart.html">One Div Zero: Types à la Chart</a>
    A chart of languages according to type power/safety. Seems reasonable. Made me curious about the ones in the top right. </li>
<li>
<a href="https://github.com/philsquared/Catch/wiki">Home · philsquared/Catch Wiki</a>
    C++ unit testing framework, all in headers, looks nice.</li>
<li>
<a href="http://ferd.ca/an-open-letter-to-the-erlang-beginner-or-onlooker.html">ferd.ca -&gt; An Open Letter to the Erlang Beginner (or Onlooker)</a>
    Interesting, balanced article about what makes erlang nice. </li>
<li>
<p><a href="http://worrydream.com/oatmeal/blind.html">"Research is a blind date with knowledge." worrydream.com/oatmeal/blind.…</a></p>
</li>
<li>
<p><a href="http://mail.python.org/pipermail/pypy-dev/2012-October/010602.html">Splitting RPython (the language) and PyPy (a python interpreter) plan: mail.python.org/pipermail/pypy…</a>
    Sounds interesting. I wonder if RPython will grow in popularity separately.</p>
</li>
<li>
<p><a href="http://saltandfat.com/post/33437971658">Double-corn tortillas</a>
    I'd love to try this sometime.</p>
</li>
<li>
<p><a href="https://github.com/clips/pattern">clips/pattern · GitHub</a>
    Web-mining in python. Lots of functionality here, BSD license.</p>
</li>
<li>
<p><a href="http://www.brainpickings.org/index.php/2012/06/12/the-art-of-coffee-1961/">The Art of Coffee: A Mad Men Era Short Film | Brain Pickings</a>
    I loved "This is Coffee!". 12 minute promotional short film from 1961 about coffee. It's wonderful to imagine the worn old mugs of my grandparents' generation new again, filled with something better than the electric-percolated canned junk I know they drank. Also great to see the Chemex in there, exactly the same as I use it today.</p>
</li>
<li>
<a href="http://worrydream.com/LearnableProgramming/">Learnable Programming</a>
    Very clear and well-argued essay about how to make a more-understandable programming environment. I agreed with everything, and was left wondering how to apply this line of thought to more complex software. (Everyone has seen this by the time I post this list.)</li>
<li>
<a href="http://robrohan.com/2009/09/14/objc-signaturevo/">@objc.signature(‘v@:@@o^@’) | Times New Rohan</a>
    List of objc.signature codes </li>
</ul>
</div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="2012/10/links/" class="u-url">Links</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="2012/10/links/" rel="bookmark"><time class="published dt-published" datetime="2012-10-08T00:47:00-07:00" title="2012-10-08 00:47">2012-10-08 00:47</time></a></p>
                <p class="commentline">
        
    <a href="2012/10/links/#disqus_thread" data-disqus-identifier="cache/posts/2012/10/links.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <ul>
<li>
<p><a href="http://stackoverflow.com/questions/10857030/whats-so-bad-about-template-haskell">What's so bad about Template Haskell? - Stack Overflow</a></p>
<p>A bunch of good answers to why Template Haskell is occasionally maligned.</p>
</li>
<li>
<p><a href="http://stackoverflow.com/questions/10845179/which-haskell-ghc-extensions-should-users-use-avoid/10849782#10849782">Which Haskell (GHC) extensions should users use/avoid? - Stack Overflow</a></p>
<p>Interesting list of aesthetic judgements of haskell extensions. At press time I don't know what most of these words mean.</p>
</li>
<li>
<p><a href="http://www.yesodweb.com/blog/2011/04/yesod-template-haskell">Yesod and Template Haskell</a></p>
<p>Short post on why Yesod uses template haskell (which has a bad rep)</p>
</li>
<li>
<p><a href="http://imakewebthings.com/deck.js/">deck.js » Modern HTML Presentations</a></p>
<p>Best "Write your presentations in HTML" thing I've seen yet, although I'm not sure how great it'd be at complex visuals or builds. Yes sometimes builds are good! <em>SOMETIMES</em>.</p>
</li>
<li>
<p><a href="http://redbot.org/">REDbot</a></p>
<p>RED is a robot that checks HTTP resources to see how they'll behave, pointing out common problems and suggesting improvements. Although it is not a HTTP conformance tester, it can find a number of HTTP-related issues. </p>
</li>
<li>
<p><a href="https://github.com/visi-lang/visi">.@dpp’s Visi looks to be exactly the thing when Soulver isn’t enough and spreadsheets are rigid github.com/visi-lang/visi #emerginglangs</a></p>
<p>Should I look at this before posting a link? Nah... But I will look at it, eventually! It looks interesting, I love this kind of stuff - although as usual I wonder if this is something you can already get in Mathematica but no one knows because it's so expensive.</p>
</li>
<li>
<p><a href="http://highscalability.com/blog/2012/7/30/prismatic-architecture-using-machine-learning-on-social-netw.html">High Scalability - Prismatic Architecture - Using Machine Learning on Social Networks to Figure Out What You Should Read on the Web </a></p>
<p>Probably interesting? I skimmed this, I'm not gonna lie, I don't remember much.</p>
</li>
<li>
<p><a href="http://deslide.clusterfake.net/">Deslidefied HTML</a></p>
<p>Really useful bookmark to make slideshow news articles readable on one page. I am using it all the time!</p>
</li>
<li>
<p><a href="http://pragprog.com/magazines/2012-09/thinking-functionally-with-haskell">Thinking Functionally with Haskell</a></p>
<p>""In which we explore what modern type systems bring to the table. Imagine an approach to programming where you write down some description of what your code should do, then before running your code you run some automatic tool to see if the code matches the description. That’s Test-driven development, you say!  Actually, this is what you are doing when you use static types in most languages too. Types are a description of the code’s inputs and outputs, and the check ensures that inputs and outputs match up and are used consistently. Modern type systems—such as in Haskell or above—are very flexible, and allow these descriptions to be quite detailed; plus they are not too obtrusive in use and often very helpful.  One point I’ll investigate here is how advances in types are converging with new ideas on testing, to the point where (I claim) the old distinctions are starting to blur and starting to open up exciting new possibilities—hence my suggestion that we need a new word to describe what we’re doing that is free from preconceptions and out-dated thinking.  So put aside your bad experiences from Java, and prepare to be amazed! ""</p>
</li>
<li>
<p><a href="http://feedproxy.google.com/~r/ezyang/~3/3Vb6-OhkZws/">So you want to hack on IMAP…</a></p>
<p>"Well, first off, you’re horribly misinformed: you do not actually want to hack on IMAP." (I agree, IMAP bad.)</p>
</li>
<li>
<p><a href="http://waxy.org/2008/06/the_machine_that_changed_the_world/">The Machine That Changed the World: Great Brains - Waxy.org</a></p>
<p>Documentary about computing history:
"It's a whirlwind tour of computing before the Web, with brilliant archival footage and interviews with key players — several of whom passed away since the filming. Jointly produced by WGBH Boston and the BBC, it originally aired in the UK as The Dream Machine before its U.S. premiere in January 1992. Its broadcast was accompanied by a book co-written by the documentary's producer Jon Palfreman."</p>
</li>
</ul>
</div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="next">
                <a href="index-26.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="michaelmccrackennet";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2016         <a href="mailto:michael.mccracken@gmail.com">Michael McCracken</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1818984-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>
